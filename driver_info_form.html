<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Driver Information Form</title>
  <link rel="stylesheet" href="css/driverinfo.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">Taker Inc 
        <div class="license-info">
        [License Number: B03518
        Category: BK]
      </div></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="aboutus.html">About Us</a>
            <a class="nav-link" href="driver_info_form.html">Become a Driver</a>
            <a class="nav-link" href="booking_form.html">Book a Vehicle</a>
            <a class="nav-link" href="signup.html">Get in Touch!</a>
            <a class="nav-link" href="tlcvehiclerental.html">TLC Vehicle Rental</a>
            <a class="nav-link" href="login.html">Sign In</a>
        </div>
      </div>
    </div>
 </nav>

<div class="video-banner">
  <video loop autoplay muted>
    <source src="https://videos.pexels.com/video-files/4254118/4254118-uhd_2732_1440_24fps.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="text-overlay">
    <h2 class="overlay-heading">Join Taker Inc Today</h2>
    <p class="overlay-text">Are you a driver looking for flexible opportunities?</p>
    <p class="overlay-text">Register now and become part of our dedicated team</p>
    <br>
    <button class="transparent-btn mt-8" onclick="document.getElementById('driver-form').scrollIntoView();">Sign Up</button>
  </div>
</div>

<section id="docudocu">
  <br>
  <h3>
    All you'll need to be a driver at Taker Inc is a TLC license from the
    <a href="https://www.nyc.gov/site/tlc/index.page" style="font-weight: bold; color: black;">
      NYC TLC <span class="TLC">(Taxi and Limousine Commission)</span>
    </a>
    & a TLC Licensed Vehicle (owned or rented)
  </h3>  
  <br>
  <h1>Once you have your documents ready, Just Click on Sign Up!</h1>

  <div class="doc-container flex">
    <h2>Personal Documents</h2>
    <ul>
      <li><span class="TLC">DMV Driver's License</span></li>
      <li><span class="TLC">TLC Driver's License</span></li>
      <li>Social Security Card</li>
      <li>Zelle</li>
    </ul>
  </div>

  <div class="doc-container flex">
    <h2>Vehicle Documentation</h2>
    <ul>
      <li>Registration Paper</li>
      <li>Proof Of Insurance</li>
      <li>State of Inspection<br>(Document)</li>
      <li>TLC Inspection (Document)</li>
    </ul>
  </div>
  </section>


  <section id="driver-form" class="p-8">
    <div class="container mt-5">
      <div class="containerx">
        <h1>Driver Information Form</h1>
        <form class="driver-form">
          <h2>Personal Documents:</h2>
          <div class="mb-3">
            <label for="dmv-license" class="form-label">DMV Driver's License</label>
            <input type="file" class="form-control" id="dmv-license" required>
          </div>
          <div class="mb-3">
            <label for="tlc-license" class="form-label">TLC Driver's License</label>
            <input type="file" class="form-control" id="tlc-license" required>
          </div>
          <div class="mb-3">
            <label for="social-security" class="form-label">Social Security Number</label>
            <input type="password" class="form-control" id="social-security" maxlength="9" required> 
          </div>
          <div class="mb-3">
            <label for="zelleEmail" class="form-label">Zelle Email</label>
            <input type="email" class="form-control" id="zelleEmail" maxlength="40" required placeholder="Enter the Email associated with your Zelle Account">  
          </div>
          <div class="mb-3">
            <label for="zelleNumber" class="form-label">Zelle Mobile Number</label>
            <div class="input-group">
              <select class="form-select form-control city-code-selector" id="city-code" required>
                <option value="212">+212</option>
                <option value="917">+917</option>
                <option value="718">+718</option>
                <option value="646">+646</option>
                <option value="347">+347</option>
              </select>
              <input type="tel" class="form-control" id="zelleNumber" maxlength="10" required placeholder="Enter your 10-digit mobile number">
            </div>
          </div>
          <h2>Vehicle Documentation:</h2>
          <div class="mb-3">
            <label for="registration" class="form-label">Registration Paper</label>
            <input type="file" class="form-control" id="registration" required>
          </div>
          <div class="mb-3">
            <label for="insurance-proof" class="form-label">Proof of Insurance</label>
            <input type="file" class="form-control" id="insurance-proof" required>
          </div>
          <div class="mb-3">
            <label for="ny-inspection" class="form-label">State of Inspection</label>
            <input type="file" class="form-control" id="ny-inspection" required>
          </div>
          <div class="mb-3">
            <label for="tlc-inspection" class="form-label">TLC Inspection</label>
            <input type="file" class="form-control" id="tlc-inspection" required>
          </div>
          <button type="submit" class="btn btn-primary button-gold">Submit</button>
        </form>
      </div>
    </div>
  </section>
  
  <footer class="bg-dark text-light text-center py-3">
    <div class="container">
      <p>&copy; 2024 Taker Inc. All rights reserved.</p>
    </div>
  </footer>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
  const socialSecurityInput = document.getElementById('social-security');
  const zelleNumberInput = document.getElementById('zelleNumber');
  const driverForm = document.getElementById('driver-form');

  // Mask the SSN input with asterisks while maintaining formatting
  socialSecurityInput.addEventListener('input', function() {
    let value = this.value.replace(/\D/g, ''); // Remove non-digit characters
    let formattedValue = '';

    if (value.length <= 3) {
      formattedValue = value;
    } else if (value.length <= 5) {
      formattedValue = value.slice(0, 3) + '-' + value.slice(3);
    } else {
      formattedValue = value.slice(0, 3) + '-' + value.slice(3, 5) + '-' + value.slice(5);
    }

    // Replace digits with asterisks for security
    let maskedValue = formattedValue.replace(/\d/g, '*');

    // Keep the real value in a data attribute
    this.setAttribute('data-ssn', value);
    this.value = maskedValue;
  });

  // Validate Zelle number input
  zelleNumberInput.addEventListener('input', function() {
    let value = this.value.replace(/\D/g, ''); // Remove non-digit characters
    if (value.length > 10) {
      value = value.slice(0, 10); // Limit to 10 digits
    }
    this.value = value;
  });

  // Encrypt the SSN before form submission
  driverForm.addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent form submission

    const ssn = socialSecurityInput.getAttribute('data-ssn');
    if (ssn && ssn.length === 9) {
      // Encrypt the SSN using CryptoJS
      const encryptedSSN = CryptoJS.AES.encrypt(ssn, 'secret-key-123').toString();

      // Create a hidden input to store the encrypted SSN
      const encryptedSSNInput = document.createElement('input');
      encryptedSSNInput.type = 'hidden';
      encryptedSSNInput.name = 'encrypted-ssn';
      encryptedSSNInput.value = encryptedSSN;

      // Append the hidden input to the form
      driverForm.appendChild(encryptedSSNInput);

      // Clear the SSN input field to avoid sending it in plain text
      socialSecurityInput.value = '';
      socialSecurityInput.removeAttribute('data-ssn');

      // Submit the form
      driverForm.submit();
    } else {
      alert('Please enter a valid Social Security Number.');
    }
  });
});
  </script>
</body>
</html>